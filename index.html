<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Respiratory Physiology Quiz: Introduction to Breathing Mechanics</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #1abc9c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --mechanics-color: #3498db;
            --gas-exchange-color: #1abc9c;
            --pressures-color: #9b59b6;
            --volumes-color: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(rgba(44, 62, 80, 0.85), rgba(44, 62, 80, 0.9)), 
                        url('https://images.unsplash.com/photo-1559757175-0eb30cd8c063?q=80&w=2070&auto=format&fit=crop') center/cover fixed;
            color: #2c3e50;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .lung-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 3rem;
            opacity: 0.2;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .difficulty-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent), var(--pressures-color));
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 1rem;
            margin-top: 15px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .quiz-info {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 30px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .info-item {
            text-align: center;
            padding: 10px;
        }
        
        .info-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .info-label {
            font-size: 0.9rem;
            color: #4a5568;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .quiz-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .questions-section {
            flex: 2;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.97);
            padding: 35px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .answer-section {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.97);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
            display: none;
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .answer-section.visible {
            display: block;
        }
        
        .question {
            margin-bottom: 35px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e2e8f0;
            position: relative;
        }
        
        .question-number {
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-left: 5px;
        }
        
        .question-number::before {
            content: "Q";
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .question-text {
            margin-bottom: 25px;
            font-size: 1.15rem;
            line-height: 1.8;
            background: linear-gradient(to right, var(--light), #f7fafc);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid var(--accent);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
        }
        
        .mechanics-note {
            background: linear-gradient(to right, #e8f4fc, #d1e8ff);
            border-left: 5px solid var(--mechanics-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .gas-exchange-note {
            background: linear-gradient(to right, #e0f7fa, #b2ebf2);
            border-left: 5px solid var(--gas-exchange-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .pressures-note {
            background: linear-gradient(to right, #f5e8ff, #e9d8fd);
            border-left: 5px solid var(--pressures-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .volumes-note {
            background: linear-gradient(to right, #ffeaea, #fed7d7);
            border-left: 5px solid var(--volumes-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .clinical-note {
            background: linear-gradient(to right, #fff8e1, #ffeeb5);
            border-left: 5px solid var(--warning);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-style: italic;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            padding: 18px 25px;
            border: 2px solid #cbd5e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.08rem;
            background: white;
            position: relative;
            overflow: hidden;
        }
        
        .option::before {
            content: attr(data-letter);
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: #edf2f7;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--dark);
            border-right: 2px solid #cbd5e0;
        }
        
        .option-content {
            margin-left: 45px;
        }
        
        .option:hover {
            background-color: #f7fafc;
            border-color: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .option.selected {
            background-color: #e6fffa;
            border-color: var(--secondary);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.15);
        }
        
        .option.correct {
            background-color: #f0fff4;
            border-color: var(--success);
            box-shadow: 0 4px 12px rgba(56, 161, 105, 0.15);
        }
        
        .option.incorrect {
            background-color: #fff5f5;
            border-color: var(--danger);
            box-shadow: 0 4px 12px rgba(229, 62, 62, 0.15);
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }
        
        button {
            padding: 18px 35px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.15rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        
        button:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }
        
        .submit-btn {
            background: linear-gradient(135deg, var(--accent), var(--primary));
            color: white;
            flex: 2;
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        .reset-btn {
            background: linear-gradient(135deg, #ffffff, #f7fafc);
            color: var(--dark);
            flex: 1;
            border: 2px solid #cbd5e0;
        }
        
        .reset-btn:hover {
            background: white;
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .results-section {
            margin-top: 50px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
            display: none;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .score-display {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .score-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: float 20s linear infinite;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-20px, -20px) rotate(360deg); }
        }
        
        .score-value {
            font-size: 4rem;
            font-weight: bold;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 40px 0;
            gap: 25px;
        }
        
        .stat-box {
            text-align: center;
            padding: 30px 20px;
            border-radius: 12px;
            background: white;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            flex: 1;
            transition: transform 0.3s;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .stat-box:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .passed .stat-value {
            color: var(--success);
            background: linear-gradient(135deg, var(--success), #27ae60);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .failed .stat-value {
            color: var(--danger);
            background: linear-gradient(135deg, var(--danger), #e74c3c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .attempted .stat-value {
            color: var(--secondary);
            background: linear-gradient(135deg, var(--secondary), #3498db);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .answer-bank {
            margin-top: 50px;
        }
        
        .answer-item {
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
            background: white;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s;
        }
        
        .answer-item:hover {
            transform: translateY(-2px);
        }
        
        .answer-correct {
            color: var(--success);
            font-weight: bold;
            display: inline-block;
            padding: 5px 10px;
            background: #f0fff4;
            border-radius: 5px;
            margin: 5px 0;
        }
        
        .answer-incorrect {
            color: var(--danger);
            font-weight: bold;
            display: inline-block;
            padding: 5px 10px;
            background: #fff5f5;
            border-radius: 5px;
            margin: 5px 0;
        }
        
        .support-section {
            text-align: center;
            margin-top: 50px;
            padding: 35px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .support-link {
            color: white;
            text-decoration: none;
            font-weight: bold;
            display: inline-block;
            margin-top: 20px;
            padding: 15px 30px;
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .support-link:hover {
            background-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .share-section {
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .share-btn-small {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            min-width: 180px;
            justify-content: center;
        }
        
        .share-twitter {
            background: linear-gradient(135deg, #1DA1F2, #0d8bd9);
            color: white;
        }
        
        .share-facebook {
            background: linear-gradient(135deg, #4267B2, #365899);
            color: white;
        }
        
        .share-whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
        }
        
        .share-copy {
            background: linear-gradient(135deg, var(--accent), var(--primary));
            color: white;
        }
        
        .progress-bar {
            height: 10px;
            background: #e2e8f0;
            border-radius: 5px;
            margin: 25px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @media (max-width: 1200px) {
            .quiz-container {
                flex-direction: column;
            }
            
            .stats {
                flex-direction: column;
                gap: 20px;
            }
            
            .share-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .share-btn-small {
                width: 100%;
                max-width: 300px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
            
            h1 {
                font-size: 1.7rem;
            }
            
            .score-value {
                font-size: 2.5rem;
            }
            
            .question-text {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .option {
                padding: 15px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="lung-icon">ü´Å</div>
            <h1>Respiratory Physiology Quiz: Introduction to Breathing Mechanics</h1>
            <p class="subtitle">80 Comprehensive Questions on Respiratory Mechanics, Gas Exchange, Lung Pressures & Volumes</p>
            <div class="difficulty-badge">COMPREHENSIVE RESPIRATORY PHYSIOLOGY</div>
        </header>
        
        <div class="quiz-info">
            <div class="info-item">
                <div class="info-value">80</div>
                <div class="info-label">Questions</div>
            </div>
            <div class="info-item">
                <div class="info-value">Breathing</div>
                <div class="info-label">Mechanics</div>
            </div>
            <div class="info-item">
                <div class="info-value">Gas</div>
                <div class="info-label">Exchange</div>
            </div>
            <div class="info-item">
                <div class="info-value">Lung</div>
                <div class="info-label">Volumes</div>
            </div>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress-bar" style="width: 0%"></div>
        </div>
        
        <div class="quiz-container">
            <div class="questions-section" id="questions-section">
                <!-- Questions will be dynamically inserted here -->
            </div>
            
            <div class="answer-section" id="answer-section">
                <h2>Comprehensive Answer Bank</h2>
                <p>Detailed explanations based on Guyton's Physiology & West's Respiratory Physiology</p>
                <div id="answer-bank">
                    <!-- Answers will be dynamically inserted here -->
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="reset-btn" id="reset-btn">Reset Quiz</button>
            <button class="submit-btn" id="submit-btn">Submit Answers</button>
        </div>
        
        <div class="results-section" id="results-section">
            <div class="score-display">
                <h2>Your Respiratory Physiology Score</h2>
                <div class="score-value" id="score-value">0/80</div>
                <p>Breathing Mechanics, Gas Exchange, Lung Pressures, Volumes & Capacities</p>
            </div>
            
            <div class="stats">
                <div class="stat-box attempted">
                    <div class="stat-value" id="attempted-value">0</div>
                    <div class="stat-label">Questions Attempted</div>
                </div>
                <div class="stat-box passed">
                    <div class="stat-value" id="passed-value">0</div>
                    <div class="stat-label">Questions Passed</div>
                </div>
                <div class="stat-box failed">
                    <div class="stat-value" id="failed-value">0</div>
                    <div class="stat-label">Questions Failed</div>
                </div>
            </div>
            
            <div class="share-section">
                <h3>Share Your Respiratory Physiology Results</h3>
                <div class="share-buttons">
                    <button class="share-btn-small share-twitter" id="share-twitter">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                        Twitter
                    </button>
                    <button class="share-btn-small share-facebook" id="share-facebook">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/>
                        </svg>
                        Facebook
                    </button>
                    <button class="share-btn-small share-whatsapp" id="share-whatsapp">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12.017 2.047c-2.724 0-5.443 1.042-7.513 3.112-4.163 4.163-4.163 10.92 0 15.083 2.07 2.07 4.789 3.112 7.513 3.112s5.443-1.042 7.513-3.112c4.163-4.163 4.163-10.92 0-15.083-2.07-2.07-4.789-3.112-7.513-3.112zm-3.017 15.953l-1.516-1.516 3.035-3.035-3.035-3.035 1.516-1.516 3.035 3.035 3.035-3.035 1.516 1.516-3.035 3.035 3.035 3.035-1.516 1.516-3.035-3.035-3.035 3.035z"/>
                        </svg>
                        WhatsApp
                    </button>
                    <button class="share-btn-small share-copy" id="share-copy">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/>
                        </svg>
                        Copy Results
                    </button>
                </div>
            </div>
            
            <div class="answer-bank">
                <h3>Detailed Explanations Based on Guyton's Physiology & West's Respiratory Physiology</h3>
                <div id="detailed-answers">
                    <!-- Detailed answers will be dynamically inserted here -->
                </div>
            </div>
        </div>
        
        <div class="support-section">
            <h3>Follow Code God for More Medical Quizzes</h3>
            <a href="https://www.tiktok.com/@code.god3?_r=1&_d=ZS-91SF7FxgGKu" target="_blank" class="support-link">Follow on TikTok</a>
        </div>
    </div>

    <script>
        // 80 Questions on Respiratory Physiology
        const quizData = [
            // Questions 1-20: Breathing Mechanics
            {
                question: "During normal quiet inspiration, the primary muscle of respiration is:",
                options: [
                    "External intercostal muscles only",
                    "Diaphragm (contraction flattens dome, increases vertical diameter)",
                    "Internal intercostal muscles",
                    "Abdominal muscles"
                ],
                correct: 1,
                explanation: "Diaphragm: primary muscle of quiet inspiration. Contraction flattens dome, increasing vertical thoracic diameter by 1-2cm (quiet) to 10cm (forced). Responsible for 75% of tidal volume."
            },
            {
                question: "The external intercostal muscles assist inspiration by:",
                options: [
                    "Pulling ribs downward and inward",
                    "Elevating ribs (bucket handle movement), increasing anteroposterior diameter",
                    "Compressing abdominal contents",
                    "Depressing the sternum"
                ],
                correct: 1,
                explanation: "External intercostals: elevate ribs (bucket handle movement), increasing AP and transverse diameters. Contribute ~25% of tidal volume. More active during exercise/deep breathing."
            },
            {
                question: "Normal quiet expiration is primarily:",
                options: [
                    "An active process requiring muscle contraction",
                    "A passive process due to elastic recoil of lungs/chest wall",
                    "Active process using internal intercostals",
                    "Active process using abdominal muscles"
                ],
                correct: 1,
                explanation: "Quiet expiration: passive process. Elastic recoil of lungs (elastic fibers, surface tension) and chest wall returns system to resting position. No muscle contraction required."
            },
            {
                question: "Forced expiration involves which muscles?",
                options: [
                    "Only external intercostals",
                    "Internal intercostals and abdominal muscles",
                    "Only diaphragm",
                    "Sternocleidomastoid and scalenes only"
                ],
                correct: 1,
                explanation: "Forced expiration: internal intercostals (depress ribs), abdominal muscles (increase intra-abdominal pressure, push diaphragm upward). Also latissimus dorsi, quadratus lumborum."
            },
            {
                question: "Accessory muscles of inspiration include all EXCEPT:",
                options: [
                    "Sternocleidomastoid (elevates sternum)",
                    "Scalenes (elevate first two ribs)",
                    "Pectoralis major and minor",
                    "Internal intercostals (expiratory muscles)"
                ],
                correct: 3,
                explanation: "Accessory inspiratory muscles: sternocleidomastoid, scalenes, pectoralis major/minor, serratus anterior, erector spinae. Activated during exercise, respiratory distress."
            },
            {
                question: "The 'bucket handle' movement of ribs refers to:",
                options: [
                    "Ribs moving upward and outward, increasing transverse diameter",
                    "Ribs moving only upward without lateral movement",
                    "Sternum moving anteriorly only",
                    "Ribs moving downward and inward"
                ],
                correct: 0,
                explanation: "Bucket handle: ribs 3-10 elevate and swing outward (like bucket handles), increasing transverse diameter. Pump handle: ribs 1-2 and sternum move anteriorly, increasing AP diameter."
            },
            {
                question: "Boyle's law states that at constant temperature:",
                options: [
                    "Pressure is directly proportional to volume",
                    "Pressure is inversely proportional to volume (P ‚àù 1/V)",
                    "Volume is independent of pressure",
                    "Pressure equals volume squared"
                ],
                correct: 1,
                explanation: "Boyle's law: P ‚àù 1/V at constant temperature. Inspiration: thoracic volume ‚Üë ‚Üí alveolar pressure ‚Üì below atmospheric ‚Üí air flows in. Expiration: volume ‚Üì ‚Üí pressure ‚Üë ‚Üí air flows out."
            },
            {
                question: "During inspiration, alveolar pressure relative to atmospheric pressure is:",
                options: [
                    "Equal to atmospheric pressure",
                    "Greater than atmospheric pressure",
                    "Less than atmospheric pressure (subatmospheric by 1-3 mmHg)",
                    "Variable with no consistent pattern"
                ],
                correct: 2,
                explanation: "Inspiration: alveolar pressure becomes subatmospheric (-1 to -3 mmHg or -1 to -4 cmH‚ÇÇO). Expiration: alveolar pressure becomes positive (+1 to +3 mmHg). Atmospheric pressure = 0 reference."
            },
            {
                question: "Intrapleural pressure is normally:",
                options: [
                    "Equal to atmospheric pressure (0 mmHg)",
                    "Always positive relative to atmosphere",
                    "Always negative relative to atmosphere (-3 to -5 mmHg at rest)",
                    "Equal to alveolar pressure"
                ],
                correct: 2,
                explanation: "Intrapleural pressure: always subatmospheric (-3 to -5 mmHg at rest, -6 to -8 mmHg inspiration, -2 to -3 mmHg expiration). Due to opposing elastic forces of lungs (inward) and chest wall (outward)."
            },
            {
                question: "The transpulmonary pressure is:",
                options: [
                    "Alveolar pressure minus intrapleural pressure",
                    "Atmospheric pressure minus alveolar pressure",
                    "Intrapleural pressure minus atmospheric pressure",
                    "Alveolar pressure minus atmospheric pressure"
                ],
                correct: 0,
                explanation: "Transpulmonary pressure = alveolar pressure - intrapleural pressure. Distending pressure across lung wall. Determines lung volume. Increases during inspiration, decreases during expiration."
            },
            {
                question: "Compliance of the lungs is defined as:",
                options: [
                    "Resistance to airflow",
                    "Change in volume per unit change in pressure (ŒîV/ŒîP)",
                    "Elastic recoil of chest wall",
                    "Surface tension forces"
                ],
                correct: 1,
                explanation: "Compliance = ŒîVolume/ŒîPressure (mL/cmH‚ÇÇO). Measures distensibility. Normal lung compliance = 200 mL/cmH‚ÇÇO. Decreased in fibrosis, increased in emphysema."
            },
            {
                question: "Surfactant is produced by:",
                options: [
                    "Type I pneumocytes (alveolar lining cells)",
                    "Type II pneumocytes (septal cells)",
                    "Alveolar macrophages",
                    "Bronchial epithelial cells"
                ],
                correct: 1,
                explanation: "Surfactant: produced by type II pneumocytes. Phospholipid (dipalmitoylphosphatidylcholine) + proteins (SP-A, B, C, D). Reduces surface tension, prevents alveolar collapse."
            },
            {
                question: "The law of LaPlace for spheres states:",
                options: [
                    "P = 2T/r (Pressure = 2 √ó surface tension / radius)",
                    "P = T √ó r (Pressure = surface tension √ó radius)",
                    "P = T/r (Pressure = surface tension / radius)",
                    "P = 2T √ó r (Pressure = 2 √ó surface tension √ó radius)"
                ],
                correct: 0,
                explanation: "LaPlace: P = 2T/r. Smaller alveoli would have higher collapsing pressure without surfactant. Surfactant reduces surface tension more in smaller alveoli, stabilizing alveolar sizes."
            },
            {
                question: "Respiratory distress syndrome of the newborn is primarily due to:",
                options: [
                    "Excessive surfactant production",
                    "Deficiency of surfactant",
                    "Overdeveloped type II pneumocytes",
                    "Excessive lung compliance"
                ],
                correct: 1,
                explanation: "RDS (hyaline membrane disease): surfactant deficiency, especially in prematures <28 weeks. Stiff lungs, alveolar collapse, impaired gas exchange. Treated with surfactant replacement, steroids."
            },
            {
                question: "Airway resistance is highest in:",
                options: [
                    "Trachea (largest diameter)",
                    "Medium-sized bronchi",
                    "Terminal bronchioles (smallest airways)",
                    "Alveolar ducts"
                ],
                correct: 1,
                explanation: "Highest resistance: medium bronchi (generations 3-5). Total cross-sectional area increases distally, so resistance decreases. Bronchoconstriction increases resistance (asthma)."
            },
            {
                question: "Poiseuille's law states that resistance is:",
                options: [
                    "Directly proportional to radius to the fourth power",
                    "Inversely proportional to radius to the fourth power (R ‚àù 1/r‚Å¥)",
                    "Independent of radius",
                    "Directly proportional to length only"
                ],
                correct: 1,
                explanation: "Poiseuille: R = 8Œ∑L/œÄr‚Å¥. Resistance inversely proportional to radius‚Å¥. Small changes in radius cause large changes in resistance. Bronchoconstriction dramatically increases work of breathing."
            },
            {
                question: "Dynamic compression of airways occurs during:",
                options: [
                    "Inspiration only",
                    "Forced expiration (airway pressure < intrapleural pressure)",
                    "Quiet breathing",
                    "Inspiration and expiration equally"
                ],
                correct: 1,
                explanation: "Dynamic compression: during forced expiration, intrapleural pressure > airway pressure, causing airway collapse. Limits expiratory flow. More pronounced in COPD (loss of elastic recoil)."
            },
            {
                question: "The work of breathing is increased in all EXCEPT:",
                options: [
                    "Pulmonary fibrosis (decreased compliance)",
                    "Asthma (increased resistance)",
                    "Emphysema (increased compliance)",
                    "Normal healthy lungs at rest"
                ],
                correct: 3,
                explanation: "Work increased: fibrosis (elastic work), asthma (resistive work), COPD (both). Normal breathing at rest requires minimal work (0.5-1% of total energy). Can increase to 30% in disease."
            },
            {
                question: "The Hering-Breuer reflex involves:",
                options: [
                    "Stretch receptors in lungs inhibiting inspiration",
                    "Chemoreceptors responding to O‚ÇÇ changes",
                    "Irritant receptors causing cough",
                    "J receptors causing rapid shallow breathing"
                ],
                correct: 0,
                explanation: "Hering-Breuer inflation reflex: stretch receptors in airway smooth muscle ‚Üí vagal afferents ‚Üí inhibit inspiration. Prevents overinflation. More important in animals than humans."
            },
            {
                question: "The primary neural control of quiet breathing originates in:",
                options: [
                    "Cerebral cortex (voluntary control)",
                    "Medullary respiratory center (dorsal and ventral groups)",
                    "Pons (pneumotaxic center)",
                    "Spinal cord motor neurons"
                ],
                correct: 1,
                explanation: "Medullary centers: dorsal group (mostly inspiration), ventral group (expiration, forced breathing). Generate basic rhythm. Modified by pons (pneumotaxic - limits inspiration, apneustic - prolongs)."
            },

            // Questions 21-40: Gas Exchange
            {
                question: "The partial pressure of oxygen in alveolar air (PAO‚ÇÇ) at sea level is approximately:",
                options: [
                    "40 mmHg",
                    "100 mmHg",
                    "160 mmHg",
                    "46 mmHg"
                ],
                correct: 1,
                explanation: "Alveolar PO‚ÇÇ = 100 mmHg (sea level, room air). Arterial PO‚ÇÇ ‚âà 95 mmHg due to ventilation-perfusion mismatch and shunt. Mixed venous PO‚ÇÇ = 40 mmHg."
            },
            {
                question: "The alveolar gas equation is:",
                options: [
                    "PAO‚ÇÇ = PIO‚ÇÇ - (PACO‚ÇÇ/R) + F",
                    "PAO‚ÇÇ = PIO‚ÇÇ - (PACO‚ÇÇ √ó R)",
                    "PAO‚ÇÇ = PACO‚ÇÇ/R",
                    "PAO‚ÇÇ = PIO‚ÇÇ + PACO‚ÇÇ"
                ],
                correct: 0,
                explanation: "Alveolar gas equation: PAO‚ÇÇ = PIO‚ÇÇ - (PACO‚ÇÇ/R). R = respiratory quotient (CO‚ÇÇ produced/O‚ÇÇ consumed) ‚âà 0.8. PIO‚ÇÇ = inspired O‚ÇÇ = FIO‚ÇÇ √ó (Patm - PH‚ÇÇO)."
            },
            {
                question: "The normal alveolar-arterial (A-a) gradient for O‚ÇÇ is:",
                options: [
                    "0 mmHg (no difference)",
                    "5-15 mmHg breathing room air",
                    "40-50 mmHg",
                    "100 mmHg"
                ],
                correct: 1,
                explanation: "A-a gradient: PAO‚ÇÇ - PaO‚ÇÇ. Normal = 5-15 mmHg breathing room air. Increases with age, lung disease, shunt, V/Q mismatch. Useful diagnostic tool."
            },
            {
                question: "The respiratory quotient (RQ) for carbohydrate metabolism is:",
                options: [
                    "0.7 (fat metabolism)",
                    "1.0 (carbohydrate)",
                    "0.8 (mixed diet)",
                    "0.9 (protein)"
                ],
                correct: 1,
                explanation: "RQ = CO‚ÇÇ produced/O‚ÇÇ consumed. Carbohydrate = 1.0, fat = 0.7, protein = 0.8-0.9. Mixed diet ‚âà 0.8. Affects alveolar gas composition."
            },
            {
                question: "Henry's law states that the amount of gas dissolved in liquid is:",
                options: [
                    "Proportional to partial pressure and solubility coefficient",
                    "Inversely proportional to partial pressure",
                    "Independent of temperature",
                    "Proportional to volume only"
                ],
                correct: 0,
                explanation: "Henry's law: Amount dissolved = k √ó Pgas. k = solubility coefficient. O‚ÇÇ solubility low, CO‚ÇÇ 20√ó more soluble, N‚ÇÇ very low. Explains decompression sickness."
            },
            {
                question: "Fick's law of diffusion states diffusion rate is proportional to:",
                options: [
                    "Pressure difference √ó area √ó solubility / (thickness √ó ‚àöMW)",
                    "Pressure difference √ó area √ó solubility / (thickness √ó ‚àöMW)",
                    "Pressure difference only",
                    "Area only"
                ],
                correct: 1,
                explanation: "Fick's law: Rate ‚àù (ŒîP √ó A √ó S) / (T √ó ‚àöMW). CO‚ÇÇ diffuses 20√ó faster than O‚ÇÇ due to higher solubility, despite smaller pressure gradient. Limited by diffusion in emphysema, fibrosis."
            },
            {
                question: "The blood-gas barrier thickness is approximately:",
                options: [
                    "0.1-0.2 Œºm (very thin for efficient diffusion)",
                    "5-10 Œºm (thick barrier)",
                    "1-2 mm (very thick)",
                    "Variable depending on lung region"
                ],
                correct: 0,
                explanation: "Blood-gas barrier: 0.2-0.5 Œºm thick. Type I pneumocytes + fused basal lamina + capillary endothelium. Increased thickness in fibrosis impairs diffusion."
            },
            {
                question: "Oxygen diffusion capacity (DL) is measured using:",
                options: [
                    "Carbon monoxide (CO) due to high affinity for hemoglobin",
                    "Nitrogen (N‚ÇÇ) washout",
                    "Helium (He) dilution",
                    "Argon (Ar) inhalation"
                ],
                correct: 0,
                explanation: "DL measured with CO: DL = VCO/(PACO - PcCO). CO binds avidly to Hb, so PcCO ‚âà 0. DLCO normal ‚âà 25 mL/min/mmHg. Decreased in emphysema (loss of surface area), fibrosis (thickening)."
            },
            {
                question: "The oxygen-hemoglobin dissociation curve is sigmoid because:",
                options: [
                    "Hemoglobin has single binding site for O‚ÇÇ",
                    "Cooperative binding (binding at one site increases affinity at others)",
                    "Linear relationship between PO‚ÇÇ and saturation",
                    "Myoglobin contamination"
                ],
                correct: 1,
                explanation: "Sigmoid curve: cooperative binding. Binding of first O‚ÇÇ increases affinity for others. Steep portion (20-60 mmHg) = loading in tissues. Plateau (60-100 mmHg) = loading in lungs."
            },
            {
                question: "P50 represents:",
                options: [
                    "PO‚ÇÇ at which hemoglobin is 100% saturated",
                    "PO‚ÇÇ at which hemoglobin is 50% saturated (normal = 27 mmHg)",
                    "PCO‚ÇÇ at which hemoglobin is 50% saturated",
                    "pH at which hemoglobin is 50% saturated"
                ],
                correct: 1,
                explanation: "P50: PO‚ÇÇ at 50% saturation. Normal = 27 mmHg. Increased P50 = right shift (decreased affinity). Decreased P50 = left shift (increased affinity). Useful measure of Hb-O‚ÇÇ affinity."
            },
            {
                question: "A right shift of the O‚ÇÇ-Hb curve is caused by:",
                options: [
                    "Decreased temperature",
                    "Increased pH (alkalosis)",
                    "Increased 2,3-DPG, H‚Å∫, temperature, PCO‚ÇÇ",
                    "Decreased 2,3-DPG"
                ],
                correct: 2,
                explanation: "Right shift (Bohr effect): decreased affinity, easier O‚ÇÇ unloading. Causes: ‚ÜëH‚Å∫ (acidosis), ‚ÜëPCO‚ÇÇ, ‚Üëtemperature, ‚Üë2,3-DPG. Occurs in tissues, exercise, anemia, high altitude."
            },
            {
                question: "2,3-DPG (bisphosphoglycerate) is produced in:",
                options: [
                    "Liver only",
                    "Red blood cells via Rapoport-Luebering shunt",
                    "Kidney proximal tubules",
                    "Alveolar type II cells"
                ],
                correct: 1,
                explanation: "2,3-DPG: RBC glycolytic intermediate. Binds to Œ≤-chains of deoxy-Hb, decreasing O‚ÇÇ affinity. Increases in anemia, high altitude, heart failure. Decreases in stored blood, acidemia."
            },
            {
                question: "The oxygen content of blood equals:",
                options: [
                    "Only dissolved O‚ÇÇ",
                    "(Hb √ó 1.34 √ó SaO‚ÇÇ) + (0.003 √ó PaO‚ÇÇ)",
                    "PaO‚ÇÇ √ó 0.003 only",
                    "Hb concentration only"
                ],
                correct: 1,
                explanation: "O‚ÇÇ content = (Hb √ó 1.34 √ó SaO‚ÇÇ) + (0.003 √ó PaO‚ÇÇ). 1.34 mL O‚ÇÇ/g Hb (H√ºfner's number). Dissolved O‚ÇÇ negligible (0.3 mL/dL at PaO‚ÇÇ 100 mmHg) vs bound (20 mL/dL)."
            },
            {
                question: "The normal arteriovenous O‚ÇÇ difference is approximately:",
                options: [
                    "1-2 mL O‚ÇÇ/dL blood",
                    "4-5 mL O‚ÇÇ/dL blood",
                    "10-12 mL O‚ÇÇ/dL blood",
                    "20 mL O‚ÇÇ/dL blood"
                ],
                correct: 1,
                explanation: "A-V O‚ÇÇ difference = arterial content - mixed venous content. Normal ‚âà 4-5 mL/dL. Increases with exercise (15 mL/dL), decreases with shunt, cyanide poisoning."
            },
            {
                question: "Carbon dioxide is transported in blood primarily as:",
                options: [
                    "Dissolved CO‚ÇÇ (10%)",
                    "Bicarbonate (HCO‚ÇÉ‚Åª) (60-70%)",
                    "Carbamino compounds (20-30%)",
                    "Carbonic acid (H‚ÇÇCO‚ÇÉ)"
                ],
                correct: 1,
                explanation: "CO‚ÇÇ transport: HCO‚ÇÉ‚Åª (60-70%), carbamino-Hb (20-30%), dissolved (10%). Carbonic anhydrase in RBCs catalyzes H‚ÇÇO + CO‚ÇÇ ‚Üî H‚ÇÇCO‚ÇÉ ‚Üî H‚Å∫ + HCO‚ÇÉ‚Åª. Chloride shift maintains electroneutrality."
            },
            {
                question: "The Haldane effect refers to:",
                options: [
                    "Deoxyhemoglobin binding more CO‚ÇÇ as carbamino compounds",
                    "Oxyhemoglobin binding more CO‚ÇÇ",
                    "CO binding preferentially to hemoglobin",
                    "Effect of pH on O‚ÇÇ binding"
                ],
                correct: 0,
                explanation: "Haldane effect: deoxy-Hb binds more CO‚ÇÇ as carbamino compounds and buffers more H‚Å∫. Facilitates CO‚ÇÇ loading in tissues and unloading in lungs. Opposite of Bohr effect."
            },
            {
                question: "The chloride shift occurs when:",
                options: [
                    "HCO‚ÇÉ‚Åª moves out of RBCs, Cl‚Åª moves in (Hamburger shift)",
                    "Cl‚Åª moves out, HCO‚ÇÉ‚Åª moves in",
                    "Na‚Å∫ moves with Cl‚Åª",
                    "K‚Å∫ exchanges with Cl‚Åª"
                ],
                correct: 0,
                explanation: "Chloride shift (Hamburger phenomenon): in tissues, CO‚ÇÇ enters RBCs ‚Üí HCO‚ÇÉ‚Åª formed ‚Üí HCO‚ÇÉ‚Åª moves out ‚Üí Cl‚Åª moves in (via anion exchanger AE1). Maintains electroneutrality. Reverse in lungs."
            },
            {
                question: "The normal PaCO‚ÇÇ is:",
                options: [
                    "40 mmHg (range 35-45)",
                    "100 mmHg",
                    "46 mmHg",
                    "27 mmHg"
                ],
                correct: 0,
                explanation: "Arterial PCO‚ÇÇ = 40 mmHg (35-45). Venous PCO‚ÇÇ = 46 mmHg. Tightly regulated by ventilation. Hypercapnia >45 mmHg, hypocapnia <35 mmHg."
            },
            {
                question: "The physiological dead space is:",
                options: [
                    "Anatomical dead space only",
                    "Alveolar dead space only",
                    "Anatomical + alveolar dead space",
                    "Conducting zone only"
                ],
                correct: 2,
                explanation: "Physiological dead space = anatomical (conducting airways) + alveolar (ventilated but not perfused). Normal = 150 mL (‚Öì of tidal volume). Increases in pulmonary embolism, decreased cardiac output."
            },
            {
                question: "Bohr's method measures dead space using:",
                options: [
                    "Nitrogen washout",
                    "PACO‚ÇÇ and mixed expired PCO‚ÇÇ: VD/VT = (PaCO‚ÇÇ - PƒíCO‚ÇÇ)/PaCO‚ÇÇ",
                    "Helium dilution",
                    "O‚ÇÇ consumption"
                ],
                correct: 1,
                explanation: "Bohr equation: VD/VT = (PaCO‚ÇÇ - PƒíCO‚ÇÇ)/PaCO‚ÇÇ. Measures physiological dead space. Normal VD/VT = 0.3 (dead space/tidal volume ratio). Increases in lung disease."
            },

            // Questions 41-60: Lung Pressures
            {
                question: "The pressure gradient driving air into the lungs during inspiration is:",
                options: [
                    "Atmospheric pressure minus alveolar pressure",
                    "Intrapleural pressure minus alveolar pressure",
                    "Alveolar pressure minus intrapleural pressure",
                    "Transpulmonary pressure only"
                ],
                correct: 0,
                explanation: "Driving pressure = atmospheric pressure - alveolar pressure. During inspiration: alveolar pressure < atmospheric ‚Üí air flows in. During expiration: alveolar > atmospheric ‚Üí air flows out."
            },
            {
                question: "At functional residual capacity (FRC), the intrapleural pressure is:",
                options: [
                    "0 mmHg (atmospheric)",
                    "-5 cmH‚ÇÇO (approximately -3.7 mmHg)",
                    "+5 cmH‚ÇÇO",
                    "-10 cmH‚ÇÇO"
                ],
                correct: 1,
                explanation: "At FRC (end of quiet expiration): intrapleural pressure = -5 cmH‚ÇÇO (-3.7 mmHg). Balance point where inward recoil of lungs = outward recoil of chest wall."
            },
            {
                question: "During a maximum inspiratory effort, intrapleural pressure may reach:",
                options: [
                    "-30 to -40 cmH‚ÇÇO",
                    "0 cmH‚ÇÇO",
                    "+20 cmH‚ÇÇO",
                    "-5 cmH‚ÇÇO only"
                ],
                correct: 0,
                explanation: "Maximum inspiration: intrapleural pressure can reach -30 to -40 cmH‚ÇÇO. Maximum expiration: can reach +40 to +50 cmH‚ÇÇO (Valsalva maneuver)."
            },
            {
                question: "The transpulmonary pressure at FRC is approximately:",
                options: [
                    "0 cmH‚ÇÇO",
                    "5 cmH‚ÇÇO (alveolar 0 - intrapleural -5)",
                    "10 cmH‚ÇÇO",
                    "-5 cmH‚ÇÇO"
                ],
                correct: 1,
                explanation: "At FRC: alveolar pressure = 0, intrapleural = -5 cmH‚ÇÇO ‚Üí transpulmonary = 0 - (-5) = +5 cmH‚ÇÇO. This pressure distends lungs against elastic recoil."
            },
            {
                question: "Pneumothorax results in:",
                options: [
                    "Increased intrapleural pressure becoming atmospheric",
                    "Decreased intrapleural pressure",
                    "No change in lung volumes",
                    "Increased lung expansion"
                ],
                correct: 0,
                explanation: "Pneumothorax: air in pleural space ‚Üí intrapleural pressure = atmospheric ‚Üí lung collapses (inward recoil unopposed), chest wall springs out. Treated with chest tube drainage."
            },
            {
                question: "The difference between maximum inspiratory and expiratory pressures measures:",
                options: [
                    "Lung compliance",
                    "Respiratory muscle strength",
                    "Airway resistance",
                    "Diffusion capacity"
                ],
                correct: 1,
                explanation: "Maximum inspiratory pressure (MIP) and expiratory pressure (MEP) assess respiratory muscle strength. Normal MIP: -75 to -100 cmH‚ÇÇO, MEP: +100 to +150 cmH‚ÇÇO. Decreased in neuromuscular diseases."
            },
            {
                question: "Intra-alveolar pressure during maximum forced expiration can reach:",
                options: [
                    "+40 to +50 cmH‚ÇÇO",
                    "-40 cmH‚ÇÇO",
                    "0 cmH‚ÇÇO",
                    "-10 cmH‚ÇÇO"
                ],
                correct: 0,
                explanation: "Maximum expiration: intra-alveolar pressure can reach +40 to +50 cmH‚ÇÇO (Valsalva). Maximum inspiration: -30 to -40 cmH‚ÇÇO (M√ºller maneuver)."
            },
            {
                question: "The pressure in the middle ear relative to atmosphere is normally maintained by:",
                options: [
                    "Eustachian tube opening during swallowing/yawning",
                    "Tympanic membrane leakage",
                    "Direct connection to nasopharynx",
                    "Active pumping by ear muscles"
                ],
                correct: 0,
                explanation: "Eustachian tube opens during swallowing/yawning, equalizing middle ear pressure with atmosphere. Important during pressure changes (diving, flying). Dysfunction ‚Üí barotrauma."
            },
            {
                question: "The water vapor pressure at 37¬∞C in respiratory tract is:",
                options: [
                    "0 mmHg",
                    "47 mmHg (saturated at body temperature)",
                    "100 mmHg",
                    "Variable with breathing"
                ],
                correct: 1,
                explanation: "Water vapor pressure at 37¬∞C = 47 mmHg. Air is fully saturated in conducting airways. This must be subtracted in alveolar gas equation: PIO‚ÇÇ = FIO‚ÇÇ √ó (Patm - 47)."
            },
            {
                question: "Negative pressure ventilation works by:",
                options: [
                    "Applying positive pressure to airway opening",
                    "Creating negative pressure around chest (iron lung)",
                    "Increasing intra-alveolar pressure",
                    "Forcing air into lungs"
                ],
                correct: 1,
                explanation: "Negative pressure ventilation: iron lung, chest cuirass. Creates negative pressure around chest ‚Üí expands thorax ‚Üí alveolar pressure subatmospheric ‚Üí air flows in. Mimics normal breathing."
            },
            {
                question: "Positive end-expiratory pressure (PEEP) in mechanical ventilation:",
                options: [
                    "Decreases functional residual capacity",
                    "Increases FRC, prevents alveolar collapse",
                    "Increases intrapleural pressure dramatically",
                    "Decreases oxygenation"
                ],
                correct: 1,
                explanation: "PEEP: positive pressure at end expiration. Increases FRC, recruits collapsed alveoli, improves oxygenation. Used in ARDS, pulmonary edema. Risks: barotrauma, decreased venous return."
            },
            {
                question: "The transmural pressure across pulmonary capillaries is approximately:",
                options: [
                    "Alveolar pressure minus capillary pressure",
                    "Capillary pressure minus alveolar pressure",
                    "Atmospheric pressure only",
                    "Intrapleural pressure only"
                ],
                correct: 1,
                explanation: "Transmural pressure = capillary pressure - alveolar pressure. Normally capillary pressure (10 mmHg) > alveolar (0) ‚Üí vessels open. If alveolar > capillary ‚Üí compression (Zone 1)."
            },
            {
                question: "West's zones of the lung describe:",
                options: [
                    "Ventilation distribution only",
                    "Perfusion distribution based on arterial, venous, alveolar pressures",
                    "Lobar anatomy",
                    "Bronchopulmonary segments"
                ],
                correct: 1,
                explanation: "West zones: Zone 1 (apex): Pa > Pv > PA (no flow). Zone 2 (middle): Pa > PA > Pv (flow depends on Pa-PA). Zone 3 (base): Pa > Pv > PA (flow depends on Pa-Pv)."
            },
            {
                question: "In Zone 2 of the lung, blood flow is determined by:",
                options: [
                    "Arterial minus venous pressure (Pa - Pv)",
                    "Arterial minus alveolar pressure (Pa - PA)",
                    "Venous pressure only",
                    "Alveolar pressure only"
                ],
                correct: 1,
                explanation: "Zone 2 (waterfall or Starling resistor): Pa > PA > Pv. Flow determined by Pa - PA, not Pa - Pv. Like waterfall - flow depends on height above waterfall, not below."
            },
            {
                question: "Pulmonary artery systolic pressure is normally:",
                options: [
                    "120/80 mmHg (same as systemic)",
                    "25/8 mmHg (low pressure system)",
                    "40/20 mmHg",
                    "60/40 mmHg"
                ],
                correct: 1,
                explanation: "Pulmonary artery: 25/8 mmHg, mean 15 mmHg. Low resistance system. Pulmonary capillary pressure ‚âà 10 mmHg. Systemic: 120/80 mmHg, mean 93 mmHg."
            },
            {
                question: "Pulmonary vascular resistance (PVR) is calculated as:",
                options: [
                    "(Pulmonary artery pressure - Left atrial pressure) / Cardiac output",
                    "Pulmonary artery pressure only",
                    "Cardiac output / pressure gradient",
                    "Systemic resistance formula"
                ],
                correct: 0,
                explanation: "PVR = (PAP - LAP)/CO √ó 80 (to convert to dyn¬∑s¬∑cm‚Åª‚Åµ). Normal = 50-150 dyn¬∑s¬∑cm‚Åª‚Åµ. Increases in pulmonary hypertension, hypoxic vasoconstriction, embolism."
            },
            {
                question: "Hypoxic pulmonary vasoconstriction:",
                options: [
                    "Diverts blood from poorly ventilated alveoli",
                    "Increases blood flow to hypoxic areas",
                    "Occurs in systemic circulation",
                    "Is mediated by nitric oxide release"
                ],
                correct: 0,
                explanation: "Hypoxic vasoconstriction: local response to alveolar hypoxia (PO‚ÇÇ < 70 mmHg). Diverts blood to better ventilated areas. Important for V/Q matching. Exaggerated at high altitude, causes pulmonary hypertension."
            },
            {
                question: "The Valsalva maneuver involves:",
                options: [
                    "Forced expiration against closed glottis (increased intrathoracic pressure)",
                    "Forced inspiration against closed glottis",
                    "Normal quiet breathing",
                    "Cough reflex"
                ],
                correct: 0,
                explanation: "Valsalva: forced expiration against closed glottis. Increases intrathoracic pressure to +40-50 mmHg. Decreases venous return, initially increases then decreases BP. Used to test autonomic function."
            },
            {
                question: "The M√ºller maneuver is:",
                options: [
                    "Forced inspiration against closed glottis (decreased intrathoracic pressure)",
                    "Forced expiration against closed glottis",
                    "Normal expiration",
                    "Cough sequence"
                ],
                correct: 0,
                explanation: "M√ºller: forced inspiration against closed glottis. Decreases intrathoracic pressure to -30 to -40 mmHg. Increases venous return. Opposite of Valsalva."
            },
            {
                question: "Intrapleural pressure becomes positive during:",
                options: [
                    "Maximum forced expiration (Valsalva)",
                    "Maximum inspiration",
                    "Normal quiet breathing",
                    "Always negative"
                ],
                correct: 0,
                explanation: "Intrapleural pressure becomes positive (+40-50 mmHg) during forced expiration (Valsalva, coughing, sneezing). Normally always negative to keep lungs inflated."
            },

            // Questions 61-80: Lung Volumes & Capacities
            {
                question: "Tidal volume (TV) in a normal adult is approximately:",
                options: [
                    "500 mL (range 400-600)",
                    "1200 mL",
                    "3100 mL",
                    "6000 mL"
                ],
                correct: 0,
                explanation: "Tidal volume: volume inhaled/exhaled during quiet breathing. Normal = 500 mL (400-600). About ‚Öì reaches alveoli (350 mL), ‚Öì stays in anatomical dead space (150 mL)."
            },
            {
                question: "Inspiratory reserve volume (IRV) is:",
                options: [
                    "Volume that can be inspired beyond tidal volume (normal = 3000 mL)",
                    "Volume that can be expired after tidal expiration",
                    "Volume remaining after maximum expiration",
                    "Maximum volume possible"
                ],
                correct: 0,
                explanation: "IRV: additional air that can be inspired after normal tidal inspiration. Normal = 3000 mL (1900-3100). Decreases with restrictive lung disease, obesity, neuromuscular disorders."
            },
            {
                question: "Expiratory reserve volume (ERV) is approximately:",
                options: [
                    "1200 mL (volume that can be expired after tidal expiration)",
                    "500 mL",
                    "3000 mL",
                    "100 mL"
                ],
                correct: 0,
                explanation: "ERV: additional air that can be expired after normal tidal expiration. Normal = 1200 mL (700-1200). Decreases with obesity, ascites, pregnancy (reduced FRC)."
            },
            {
                question: "Residual volume (RV) is:",
                options: [
                    "Volume remaining after maximum expiration (normal = 1200 mL)",
                    "Volume inspired during quiet breathing",
                    "Volume that can be inspired maximally",
                    "Total lung capacity"
                ],
                correct: 0,
                explanation: "RV: air remaining after maximal expiration. Normal = 1200 mL (1000-1500). Cannot be measured by spirometry (requires helium dilution, body plethysmography). Increases in COPD."
            },
            {
                question: "Inspiratory capacity (IC) equals:",
                options: [
                    "TV + IRV (maximum inspiratory volume from FRC)",
                    "ERV + RV",
                    "TV + ERV",
                    "IRV only"
                ],
                correct: 0,
                explanation: "IC = TV + IRV. Volume that can be inspired from FRC. Normal = 3500 mL. Decreases in restrictive disease. IC + FRC = TLC."
            },
            {
                question: "Functional residual capacity (FRC) is:",
                options: [
                    "ERV + RV (volume remaining after tidal expiration)",
                    "TV + IRV",
                    "Maximum expiratory volume",
                    "TLC - RV"
                ],
                correct: 0,
                explanation: "FRC = ERV + RV. Volume in lungs after tidal expiration. Normal = 2400 mL. Balance point where inward lung recoil = outward chest wall recoil. Increases in COPD, decreases in fibrosis."
            },
            {
                question: "Vital capacity (VC) equals:",
                options: [
                    "IRV + TV + ERV (maximum volume expired after maximum inspiration)",
                    "RV + ERV",
                    "TLC - RV",
                    "TV + IRV"
                ],
                correct: 0,
                explanation: "VC = IRV + TV + ERV. Maximum volume expired after maximum inspiration. Normal = 4800 mL (F), 5800 mL (M). Decreases in restrictive disease, neuromuscular disorders."
            },
            {
                question: "Total lung capacity (TLC) is:",
                options: [
                    "VC + RV (all air in lungs after maximum inspiration)",
                    "IRV + TV",
                    "FRC + IC",
                    "Maximum expiratory volume"
                ],
                correct: 0,
                explanation: "TLC = VC + RV = IRV + TV + ERV + RV. All air in lungs after maximum inspiration. Normal = 6000 mL (F), 7000 mL (M). Increases in emphysema, decreases in fibrosis."
            },
            {
                question: "Which cannot be measured by simple spirometry?",
                options: [
                    "Vital capacity",
                    "Tidal volume",
                    "Residual volume and capacities containing RV",
                    "Expiratory reserve volume"
                ],
                correct: 2,
                explanation: "Spirometry cannot measure RV, FRC, TLC (contain RV). Requires helium dilution, nitrogen washout, or body plethysmography. Spirometry measures VC and its components."
            },
            {
                question: "The forced vital capacity (FVC) is:",
                options: [
                    "VC measured with maximum effort and speed",
                    "Slow vital capacity",
                    "Tidal volume √ó respiratory rate",
                    "Residual volume only"
                ],
                correct: 0,
                explanation: "FVC: VC performed with maximum effort and speed. Normal = same as VC. Reduced in restrictive disease. In obstructive disease, FVC may be normal or reduced due to air trapping."
            },
            {
                question: "FEV‚ÇÅ/FVC ratio normal is approximately:",
                options: [
                    "50%",
                    "80% (‚â•70-75% normal)",
                    "100%",
                    "30%"
                ],
                correct: 1,
                explanation: "FEV‚ÇÅ/FVC: forced expiratory volume in 1 sec / FVC. Normal ‚â•70-75% (young adults). Decreased in obstructive disease (<70%). Normal or increased in restrictive disease."
            },
            {
                question: "In obstructive lung disease (COPD, asthma):",
                options: [
                    "FEV‚ÇÅ/FVC decreased, TLC increased, RV increased",
                    "FEV‚ÇÅ/FVC normal, TLC decreased",
                    "FEV‚ÇÅ increased, FVC normal",
                    "All volumes decreased"
                ],
                correct: 0,
                explanation: "Obstructive: ‚ÜìFEV‚ÇÅ/FVC (<70%), ‚ÜëTLC (hyperinflation), ‚ÜëRV (air trapping), normal or ‚ÜìFVC. Restrictive: normal or ‚ÜëFEV‚ÇÅ/FVC, ‚ÜìTLC, ‚ÜìVC, normal or ‚ÜìRV."
            },
            {
                question: "Closing capacity refers to:",
                options: [
                    "Volume at which small airways begin to close during expiration",
                    "Total lung capacity",
                    "Functional residual capacity",
                    "Maximum inspiratory volume"
                ],
                correct: 0,
                explanation: "Closing capacity: lung volume at which small airways begin to close. Normally <FRC. Increases with age, smoking, COPD. When CC > FRC, airways close during tidal breathing ‚Üí V/Q mismatch."
            },
            {
                question: "The helium dilution method measures:",
                options: [
                    "FRC (functional residual capacity)",
                    "Airway resistance only",
                    "Diffusion capacity",
                    "Blood gases"
                ],
                correct: 0,
                explanation: "Helium dilution: measures FRC. Patient breathes from spirometer with known He concentration. He dilutes in lung volume. FRC = [(Ci/Cf) - 1] √ó spirometer volume. Underestimates in severe obstruction."
            },
            {
                question: "Body plethysmography measures:",
                options: [
                    "FRC including trapped gas (more accurate than helium dilution)",
                    "Only airway resistance",
                    "Only compliance",
                    "Only diffusion capacity"
                ],
                correct: 0,
                explanation: "Body plethysmography: measures thoracic gas volume (FRC) including trapped gas. Uses Boyle's law: P‚ÇÅV‚ÇÅ = P‚ÇÇV‚ÇÇ. More accurate in obstructive disease. Also measures airway resistance."
            },
            {
                question: "Minute ventilation (VE) equals:",
                options: [
                    "Tidal volume √ó respiratory rate (normal = 6 L/min)",
                    "Alveolar ventilation only",
                    "Dead space ventilation",
                    "Maximum voluntary ventilation"
                ],
                correct: 0,
                explanation: "Minute ventilation = TV √ó RR. Normal = 500 mL √ó 12 = 6 L/min. Alveolar ventilation = (TV - dead space) √ó RR = 350 mL √ó 12 = 4.2 L/min."
            },
            {
                question: "Alveolar ventilation is:",
                options: [
                    "Volume reaching alveoli per minute = (TV - dead space) √ó RR",
                    "Total minute ventilation",
                    "Dead space volume only",
                    "Maximum breathing capacity"
                ],
                correct: 0,
                explanation: "Alveolar ventilation = (TV - VD) √ó RR. Gas exchange only occurs in alveoli. Normal = 4.2 L/min. Determines PaCO‚ÇÇ: VA ‚àù 1/PaCO‚ÇÇ (if CO‚ÇÇ production constant)."
            },
            {
                question: "Dead space ventilation normally comprises:",
                options: [
                    "Approximately ‚Öì of tidal volume (150/500 mL)",
                    "All of tidal volume",
                    "Only 50 mL",
                    "None of tidal volume"
                ],
                correct: 0,
                explanation: "Anatomical dead space ‚âà 150 mL (‚Öì of TV). Physiological dead space may be larger if alveolar dead space present. Dead space ventilation = VD √ó RR = 150 √ó 12 = 1.8 L/min."
            },
            {
                question: "Maximum voluntary ventilation (MVV) is:",
                options: [
                    "Maximum volume that can be breathed per minute (normal = 100-170 L/min)",
                    "Tidal volume at rest",
                    "Alveolar ventilation",
                    "Dead space volume"
                ],
                correct: 0,
                explanation: "MVV: maximum volume breathed in 12-15 seconds, extrapolated to 1 minute. Normal = 100-170 L/min. Tests respiratory muscles, airways, compliance. Roughly = FEV‚ÇÅ √ó 35."
            },
            {
                question: "The flow-volume loop demonstrates:",
                options: [
                    "Flow vs volume during forced inspiration and expiration",
                    "Only expiratory flow",
                    "Pressure-volume relationship",
                    "Compliance curve"
                ],
                correct: 0,
                explanation: "Flow-volume loop: flow (L/s) vs volume (L). Characteristic shapes: obstructive (scooped expiratory curve), restrictive (smaller loop normal shape). Shows effort-independent portion of expiration."
            }
        ];

        // Initialize the quiz
        document.addEventListener('DOMContentLoaded', function() {
            const questionsSection = document.getElementById('questions-section');
            const answerSection = document.getElementById('answer-section');
            const answerBank = document.getElementById('answer-bank');
            const submitBtn = document.getElementById('submit-btn');
            const resetBtn = document.getElementById('reset-btn');
            const resultsSection = document.getElementById('results-section');
            const scoreValue = document.getElementById('score-value');
            const attemptedValue = document.getElementById('attempted-value');
            const passedValue = document.getElementById('passed-value');
            const failedValue = document.getElementById('failed-value');
            const detailedAnswers = document.getElementById('detailed-answers');
            const shareTwitterBtn = document.getElementById('share-twitter');
            const shareFacebookBtn = document.getElementById('share-facebook');
            const shareWhatsappBtn = document.getElementById('share-whatsapp');
            const shareCopyBtn = document.getElementById('share-copy');
            const progressBar = document.getElementById('progress-bar');
            
            let userAnswers = Array(quizData.length).fill(null);
            
            // Create question elements
            quizData.forEach((questionData, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question';
                
                // Add category-specific notes
                let categoryNote = '';
                if (index < 20) { // Breathing mechanics
                    categoryNote = `<div class="mechanics-note">Breathing Mechanics: Questions 1-20 cover respiratory muscles, pressure changes, Boyle's law, and work of breathing.</div>`;
                } else if (index < 40) { // Gas exchange
                    categoryNote = `<div class="gas-exchange-note">Gas Exchange: Questions 21-40 cover alveolar gases, diffusion, O‚ÇÇ-Hb curve, CO‚ÇÇ transport, and dead space.</div>`;
                } else if (index < 60) { // Pressures
                    categoryNote = `<div class="pressures-note">Lung Pressures: Questions 41-60 cover intrapleural, transpulmonary pressures, West zones, and pulmonary circulation.</div>`;
                } else { // Volumes
                    categoryNote = `<div class="volumes-note">Lung Volumes & Capacities: Questions 61-80 cover TLC, FRC, VC, RV, spirometry, and clinical patterns.</div>`;
                }
                
                questionElement.innerHTML = `
                    <div class="question-number">${index + 1}</div>
                    <div class="question-text">${questionData.question}</div>
                    ${categoryNote}
                    <div class="options">
                        ${questionData.options.map((option, optionIndex) => `
                            <div class="option" data-question="${index}" data-option="${optionIndex}" data-letter="${String.fromCharCode(65 + optionIndex)}">
                                <div class="option-content">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
                questionsSection.appendChild(questionElement);
                
                // Create answer element for answer bank
                const answerElement = document.createElement('div');
                answerElement.className = 'answer-item';
                const correctLetter = String.fromCharCode(65 + questionData.correct);
                answerElement.innerHTML = `
                    <strong>${index + 1}. ${questionData.question}</strong><br>
                    <span class="answer-correct">Correct: ${correctLetter}. ${questionData.options[questionData.correct]}</span>
                `;
                answerBank.appendChild(answerElement);
            });
            
            // Update progress bar
            function updateProgress() {
                const answered = userAnswers.filter(answer => answer !== null).length;
                const progress = (answered / quizData.length) * 100;
                progressBar.style.width = `${progress}%`;
            }
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionIndex = parseInt(this.getAttribute('data-question'));
                    const optionIndex = parseInt(this.getAttribute('data-option'));
                    
                    // Remove selected class from all options in this question
                    const questionOptions = document.querySelectorAll(`.option[data-question="${questionIndex}"]`);
                    questionOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Store user's answer
                    userAnswers[questionIndex] = optionIndex;
                    
                    // Update progress
                    updateProgress();
                });
            });
            
            // Submit button event listener
            submitBtn.addEventListener('click', function() {
                let score = 0;
                let attempted = 0;
                let passed = 0;
                let failed = 0;
                
                // Clear previous detailed answers
                detailedAnswers.innerHTML = '';
                
                // Evaluate answers
                quizData.forEach((questionData, index) => {
                    const userAnswer = userAnswers[index];
                    const correctAnswer = questionData.correct;
                    const questionOptions = document.querySelectorAll(`.option[data-question="${index}"]`);
                    
                    if (userAnswer !== null) {
                        attempted++;
                        
                        // Mark correct/incorrect answers
                        questionOptions.forEach((option, optionIndex) => {
                            if (optionIndex === correctAnswer) {
                                option.classList.add('correct');
                            } else if (optionIndex === userAnswer && userAnswer !== correctAnswer) {
                                option.classList.add('incorrect');
                            }
                        });
                        
                        if (userAnswer === correctAnswer) {
                            score++;
                            passed++;
                        } else {
                            failed++;
                        }
                        
                        // Create detailed answer element
                        const detailedAnswer = document.createElement('div');
                        detailedAnswer.className = 'answer-item';
                        const userAnswerClass = userAnswer === correctAnswer ? 'answer-correct' : 'answer-incorrect';
                        const userAnswerLetter = userAnswer !== null ? String.fromCharCode(65 + userAnswer) : '?';
                        const userAnswerText = userAnswer !== null ? questionData.options[userAnswer] : 'Not selected';
                        detailedAnswer.innerHTML = `
                            <strong>${index + 1}. ${questionData.question}</strong><br>
                            <span class="${userAnswerClass}">Your answer: ${userAnswerLetter}. ${userAnswerText}</span><br>
                            <span class="answer-correct">Correct: ${String.fromCharCode(65 + correctAnswer)}. ${questionData.options[correctAnswer]}</span><br>
                            <div class="clinical-note">${questionData.explanation}</div>
                        `;
                        detailedAnswers.appendChild(detailedAnswer);
                    } else {
                        // Create detailed answer for unattempted question
                        const detailedAnswer = document.createElement('div');
                        detailedAnswer.className = 'answer-item';
                        detailedAnswer.innerHTML = `
                            <strong>${index + 1}. ${questionData.question}</strong><br>
                            <span class="answer-incorrect">Your answer: Not attempted</span><br>
                            <span class="answer-correct">Correct: ${String.fromCharCode(65 + correctAnswer)}. ${questionData.options[correctAnswer]}</span><br>
                            <div class="clinical-note">${questionData.explanation}</div>
                        `;
                        detailedAnswers.appendChild(detailedAnswer);
                    }
                });
                
                // Update score and stats
                scoreValue.textContent = `${score}/${quizData.length}`;
                attemptedValue.textContent = attempted;
                passedValue.textContent = passed;
                failedValue.textContent = failed;
                
                // Show results section and answer section
                resultsSection.style.display = 'block';
                answerSection.classList.add('visible');
                
                // Scroll to results
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            });
            
            // Reset button event listener
            resetBtn.addEventListener('click', function() {
                userAnswers = Array(quizData.length).fill(null);
                
                // Clear all selections
                document.querySelectorAll('.option').forEach(option => {
                    option.classList.remove('selected', 'correct', 'incorrect');
                });
                
                // Hide results section and answer section
                resultsSection.style.display = 'none';
                answerSection.classList.remove('visible');
                
                // Reset progress bar
                progressBar.style.width = '0%';
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Share buttons functionality
            shareTwitterBtn.addEventListener('click', function() {
                const score = document.getElementById('score-value').textContent;
                const text = `I scored ${score} on the Respiratory Physiology Quiz! Test your knowledge of breathing mechanics and gas exchange.`;
                const url = window.location.href;
                window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
            });
            
            shareFacebookBtn.addEventListener('click', function() {
                const url = window.location.href;
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
            });
            
            shareWhatsappBtn.addEventListener('click', function() {
                const score = document.getElementById('score-value').textContent;
                const text = `I scored ${score} on the Respiratory Physiology Quiz! Test your knowledge of breathing mechanics and gas exchange: ${window.location.href}`;
                window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
            });
            
            shareCopyBtn.addEventListener('click', function() {
                const score = document.getElementById('score-value').textContent;
                const attempted = document.getElementById('attempted-value').textContent;
                const passed = document.getElementById('passed-value').textContent;
                const text = `Respiratory Physiology Quiz Results:
Score: ${score}
Questions Attempted: ${attempted}
Questions Passed: ${passed}
Test your knowledge of breathing mechanics, gas exchange, lung pressures, and volumes: ${window.location.href}`;
                
                navigator.clipboard.writeText(text).then(function() {
                    alert('Results copied to clipboard!');
                }, function() {
                    alert('Failed to copy results. Please try again.');
                });
            });
        });
    </script>
</body>
</html>